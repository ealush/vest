!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).vest={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=r((function(t,r){t.exports=function(){function t(n){return(t="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(n)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var i=function(t,e){var n,r=Object.prototype.hasOwnProperty.call(t,e)&&"function"==typeof t[e];return r||(n='Rule "'.concat(e,'" was not found in rules object. Make sure you typed it correctly.'),setTimeout((function(){throw new Error("[".concat("enforce","]: ").concat(n))}))),r},s=Function("return this")(),a=function(){return"function"==typeof s.Proxy};function c(t){return Boolean(Array.isArray(t))}function f(t){return Boolean("number"==typeof t)}function l(t){return Boolean("string"==typeof t)}function p(t,e){return e instanceof RegExp?e.test(t):"string"==typeof e&&new RegExp(e).test(t)}function y(e,n){return Array.isArray(n)&&["string","number","boolean"].includes(t(e))?n.includes(e):"string"==typeof n&&"string"==typeof e&&n.includes(e)}function g(t,e){return t===e}function v(t){var e=!isNaN(parseFloat(t))&&!isNaN(Number(t))&&isFinite(t);return Boolean(e)}function h(t,e){return v(t)&&v(e)&&Number(t)===Number(e)}function m(e){return!e||(v(e)?0===e:Object.prototype.hasOwnProperty.call(e,"length")?0===e.length:"object"!==t(e)||0===Object.keys(e).length)}function d(t,e){return v(t)&&v(e)&&Number(t)>Number(e)}function b(t,e){return v(t)&&v(e)&&Number(t)>=Number(e)}function w(t,e){return v(t)&&v(e)&&Number(t)<Number(e)}function E(t,e){return v(t)&&v(e)&&Number(t)<=Number(e)}function O(t,e){return t.length===e}function N(t){return!!t}c.negativeForm="isNotArray",f.negativeForm="isNotNumber",l.negativeForm="isNotString",p.negativeForm="notMatches",y.negativeForm="notInside",g.negativeForm="notEquals",v.negativeForm="isNotNumeric",h.negativeForm="numberNotEquals",m.negativeForm="isNotEmpty",d.alias="gt",b.alias="gte",w.alias="lt",E.alias="lte",O.negativeForm="lengthNotEquals",N.negativeForm="isFalsy";var x=function(t){var e=function(e){var n=t[e].negativeForm,r=t[e].alias;n&&(t[n]=function(){return!t[e].apply(t,arguments)}),r&&(t[r]=t[e])};for(var n in t)e(n);return t}({isArray:c,isNumber:f,isString:l,matches:p,inside:y,equals:g,numberEquals:h,isNumeric:v,isEmpty:m,greaterThan:d,greaterThanOrEquals:b,lessThan:w,lessThanOrEquals:E,longerThan:function(t,e){return t.length>e},longerThanOrEquals:function(t,e){return t.length>=e},shorterThan:function(t,e){return t.length<e},shorterThanOrEquals:function(t,e){return t.length<=e},lengthEquals:O,isOdd:function(t){return!!v(t)&&t%2!=0},isEven:function(t){return!!v(t)&&t%2==0},isTruthy:N});function T(e,n){if("function"==typeof e){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];if(!0!==e.apply(void 0,[n].concat(o)))throw new Error("[Enforce]: invalid ".concat(t(n)," value"))}}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u({},x,{},t);if(a())return function(t){var n=new Proxy(e,{get:function(e,r){if(i(e,r))return function(){for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return T.apply(void 0,[e[r],t].concat(u)),n}}});return n};var o=Object.keys(e);return function(t){return o.reduce((function(o,s){return n(o,u({},i(e,s)&&r({},s,(function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return T.apply(void 0,[e[s],t].concat(r)),o}))))}),{})}}var S=new k;return S.Enforce=k,S}()})),u=r((function(t,e){var n;t.exports=(n=function(t){if("function"==typeof t)try{var e=t();return 0!=e&&Boolean(e)}catch(t){return!1}return 0!=t&&Boolean(t)},function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.some(n)})}));var i=Function("return this")(),s=function(t,e){return void 0===e&&(e=Error),setTimeout((function(){throw new e("[Vest]: "+t)}))},a="1.0.4".split(".")[0],c=Symbol.for("VEST#"+a),f=function(){return i[c]},l=f,p=function(){return f().ctx},y=function(t){var e=i[c];return e?e.VERSION!==t.VERSION&&function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s("Multiple versions of Vest detected: ("+t.join()+").\n    Most features should work regularly, but for optimal feature compatibility, you should have all running instances use the same version.")}(t.VERSION,e.VERSION):i[c]=t,i[c]},g=function(){function t(t){l().ctx=this,n(this,t)}return t.clear=function(){l().ctx=null},t.prototype.setCurrentTest=function(t){this.currentTest=t},t.prototype.removeCurrentTest=function(){delete this.currentTest},t}(),v=function(t,e){var n=p();e&&(n?(n.exclusive=n.exclusive||{},[].concat(e).forEach((function(e){"string"==typeof e&&(n.exclusive[t]=n.exclusive[t]||{},n.exclusive[t][e]=!0)}))):s(t+" hook called outside of a running suite."))},h=function(t){return v("only",t)},m=function(t){return v("skip",t)},d=function(){function t(t,e,r,o){n(this,{ctx:t,testFn:o,fieldName:e,statement:r,isWarning:!1,failed:!1})}return t.prototype.valueOf=function(){return!0!==this.failed},t.prototype.fail=function(){return this.ctx.result.markFailure({fieldName:this.fieldName,statement:this.statement,isWarning:this.isWarning}),this.failed=!0,this},t.prototype.warn=function(){return this.isWarning=!0,this},t}(),b=function(t){var e=t.asyncTest,n=t.statement,r=t.ctx,o=function(){return r.result.markAsDone(t)},u=function(e){t.statement="string"==typeof e?e:n,t.fail(),o()};r.setCurrentTest(t);try{e.then(o,u)}catch(t){u()}r.removeCurrentTest()},w=function(t){var e,n=t.ctx,r=t.fieldName,o=!1;!function(t){var e=p();return!(!e||!e.exclusive)&&(!(!e.exclusive.skip||!e.exclusive.skip[t])||!!e.exclusive.only&&!e.exclusive.only[t])}(r)?(n.result.markTestRun(r),(e=function(t){var e;t.ctx.setCurrentTest(t);try{e=t.testFn.apply(t)}catch(t){e=!1}return t.ctx.removeCurrentTest(),!1===e&&t.fail(),e}(t))&&"function"==typeof e.then&&(o=!0,t.asyncTest=e),o&&n.result.setPending(t)):n.result.addToSkipped(r)},E=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if("string"==typeof r[0]?(e=r[0],n=r[1]):"function"==typeof r[0]&&(n=r[0]),"function"==typeof n){var u=new d(p(),t,e,n);return w(u),u}},O=function(t){var e={tests:[]},n=[],r={},o=!1,u=function(t){return!!e.tests.length&&(t?e.tests.some((function(e){return e.fieldName===t})):!!e.tests.length)},i=function(t){return t?Array.isArray(r[t])?r[t].forEach((function(t){return t(a)})):void 0:n.forEach((function(t){return t(a)}))},s=function(t){var e={};for(var n in a.tests)a.tests[n]&&a.tests[n][t]&&(e[n]=a.tests[n][t]);return e},a={name:t,errorCount:0,warnCount:0,testCount:0,tests:{},skipped:[],tested:[],canceled:!1};return Object.defineProperties(a,{hasErrors:{value:function(t){return t?Boolean(a.tests[t]&&a.tests[t].errorCount):!!a.errorCount},writable:!0,configurable:!0,enumerable:!1},hasWarnings:{value:function(t){return t?Boolean(a.tests[t]&&a.tests[t].warnCount):!!a.warnCount},writable:!0,configurable:!0,enumerable:!1},getErrors:{value:function(t){return t?a.tests[t].errors?a.tests[t].errors:[]:s("errors")},writable:!0,configurable:!0,enumerable:!1},getWarnings:{value:function(t){return t?a.tests[t].warnings?a.tests[t].warnings:[]:s("warnings")},writable:!0,configurable:!0,enumerable:!1},done:{value:function(){for(var t,e,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return"string"==typeof i[0]?(t=i[0],e=i[1]):"function"==typeof i[0]&&(e=i[0]),"function"!=typeof e?a:o?t&&!u(t)?(e(a),a):(t?(r[t]=r[t]||[],r[t].push(e)):n.push(e),a):(e(a),a)},writable:!0,configurable:!0,enumerable:!1},cancel:{value:function(){return a.canceled=!0,a},writable:!0,configurable:!0,enumerable:!1}}),{markTestRun:function(t){a.tests[t]||(a.tests[t]={testCount:0,errorCount:0,warnCount:0},a.tested.push(t)),a.tests[t].testCount++,a.testCount++},markFailure:function(t){var e,n,r=t.fieldName,o=t.statement,u=t.isWarning;a.tests[r]&&(u?(e="warnings",n="warnCount"):(e="errors",n="errorCount"),a.tests[r][e]=a.tests[r][e]||[],o&&a.tests[r][e].push(o),a[n]++,a.tests[r][n]++)},setPending:function(t){o=!0,e.tests.push(t)},addToSkipped:function(t){!a.skipped.includes(t)&&a.skipped.push(t)},markAsDone:function(t){a.canceled||(t&&(!function(t){e.tests=e.tests.filter((function(e){return e!==t}))}(t),u(t.fieldName)||i(t.fieldName)),u()||i())},pending:e.tests,output:a}},N=function(t,e){if("string"!=typeof t)return s("Suite initialization error. Expected name to be a string.",TypeError);if("function"!=typeof e)return s("Suite initialization error. Expected tests to be a function.",TypeError);var n=O(t);return new g({result:n}),e(),g.clear(),
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var u=arguments[e],i=0,s=u.length;i<s;i++,o++)r[o]=u[i];return r}(n.pending).forEach(b),n.output},x=function(){var t=p();if(t)return t.result.output;s("draft hook called outside of a running suite.")},T=function(){var t=p();t?t.currentTest?t.currentTest.warn():s("warn hook called outside of a test callback. It won't have an effect."):s("warn hook called outside of a running suite.")},k=o.Enforce,S=y({VERSION:"1.0.4",enforce:o,draft:x,Enforce:k,test:E,any:u,validate:N,only:h,skip:m,warn:T});t.Enforce=k,t.VERSION="1.0.4",t.any=u,t.default=S,t.draft=x,t.enforce=o,t.only=h,t.skip=m,t.test=E,t.validate=N,t.warn=T,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vest.min.js.map
