"use strict";!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).ensure=r()}(this,(function(){function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function r(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function n(){return(n=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n,e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function e(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function o(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(n){r(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function i(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function u(t,r){return t===r}function a(t){return!(isNaN(parseFloat(t))||isNaN(Number(t))||!isFinite(t))}function c(t,r){return a(t)&&a(r)&&Number(t)>Number(r)}function s(t,r){return a(t)&&a(r)&&Number(t)>=Number(r)}function f(r,n){return!!(Array.isArray(n)&&-1!==["string","number","boolean"].indexOf(t(r))||"string"==typeof n&&"string"==typeof r)&&-1!==n.indexOf(r)}function l(t){return!!Array.isArray(t)}function y(r){return!r||(a(r)?0===r:Object.prototype.hasOwnProperty.call(r,"length")?0===r.length:"object"!==t(r)||0===Object.keys(r).length)}function p(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return!!t}function g(t,r){return t.length===r}function h(t,r){return a(t)&&a(r)&&Number(t)<Number(r)}function v(t,r){return a(t)&&a(r)&&Number(t)<=Number(r)}function O(t,r){return r instanceof RegExp?r.test(t):"string"==typeof r&&new RegExp(r).test(t)}function d(t,r){return a(t)&&a(r)&&Number(t)===Number(r)}function N(t,r){try{for(var n=arguments.length,e=Array(2<n?n-2:0),o=2;o<n;o++)e[o-2]=arguments[o];return!0===t.apply(void 0,[r].concat(e))}catch(t){return!1}}function j(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=o(o({},P),t);if("function"==typeof E.Proxy)return function(){var t=[],r=new Proxy(e,{get:function(n,e){return"test"===e?S(t):A(n,e)?function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.push({name:e,args:o}),r}:void 0}});return r};var i=Object.keys(e);return function(){var t=[];return i.reduce((function(i,u){return n(i,o({},A(e,u)&&r({},u,(function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return t.push({name:u,args:n}),i}))))}),{test:S(t)})}}var A=function(t,r){return(t=Object.prototype.hasOwnProperty.call(t,r)&&"function"==typeof t[r])||function(t){setTimeout((function(){throw Error("[".concat("ensure","]: ",t))}))}('Rule "'.concat(r,'" was not found in rules object. Make sure you typed it correctly.')),t},E=Function("return this")();u.negativeForm="notEquals",a.negativeForm="isNotNumeric",c.alias="gt",s.alias="gte",f.negativeForm="notInside",l.negativeForm="isNotArray";var w=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,F=function(t){return function(t){return!(!t||254<t.length||!w.test(t))&&!(64<(t=t.split("@"))[0].length||t[1].split(".").some((function(t){return 63<t.length})))}(t)};F.negativeForm="isNotEmail",y.negativeForm="isNotEmpty",p.negativeForm="isNotNumber",m.negativeForm="isNotString",b.negativeForm="isFalsy",g.negativeForm="lengthNotEquals",h.alias="lt",v.alias="lte",O.negativeForm="notMatches",d.negativeForm="numberNotEquals";var P=function(t){var r,n=function(r){var n=t[r].negativeForm,e=t[r].alias;n&&(t[n]=function(){return!t[r].apply(t,arguments)}),e&&(t[e]=t[r])};for(r in t)n(r);return t}({equals:u,greaterThan:c,greaterThanOrEquals:s,inside:f,isArray:l,isEmail:F,isEmpty:y,isEven:function(t){return!!a(t)&&0==t%2},isNumber:p,isNumeric:a,isOdd:function(t){return!!a(t)&&0!=t%2},isString:m,isTruthy:b,lengthEquals:g,lessThan:h,lessThanOrEquals:v,longerThan:function(t,r){return t.length>r},longerThanOrEquals:function(t,r){return t.length>=r},matches:O,numberEquals:d,shorterThan:function(t,r){return t.length<r},shorterThanOrEquals:function(t,r){return t.length<=r}}),S=function(t){return function(r){return t.every((function(t){return N.apply(void 0,[P[t.name],r].concat(function(t){var r=Array.isArray(t)?i(t):void 0;if(r||(r="undefined"!=typeof Symbol&&Symbol.iterator in Object(t)?Array.from(t):void 0),!r)t:{if(t){if("string"==typeof t){r=i(t,void 0);break t}if("Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r){r=Array.from(t);break t}if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)){r=i(t,void 0);break t}}r=void 0}if(!(t=r))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return t}(t.args)))}))}};return(F=new j).Ensure=j,F}));
