"use strict";!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r=r||self).ensure=t()}(this,(function(){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function e(){return(e=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e,n=arguments[t];for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r}).apply(this,arguments)}function n(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function o(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))}))}return r}function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function u(r,t){return r===t}function a(r){return!(isNaN(parseFloat(r))||isNaN(Number(r))||!isFinite(r))}function c(r,t){return a(r)&&a(t)&&Number(r)>Number(t)}function f(r,t){return a(r)&&a(t)&&Number(r)>=Number(t)}function s(t,e){return!!(Array.isArray(e)&&-1!==["string","number","boolean"].indexOf(r(t))||"string"==typeof e&&"string"==typeof t)&&-1!==e.indexOf(t)}function l(r){return!!Array.isArray(r)}function y(t){return!t||(a(t)?0===t:Object.prototype.hasOwnProperty.call(t,"length")?0===t.length:"object"!==r(t)||0===Object.keys(t).length)}function p(r){return"number"==typeof r}function b(r){return"string"==typeof r}function m(r){return!!r}function g(r,t){return r.length===t}function h(r,t){return a(r)&&a(t)&&Number(r)<Number(t)}function v(r,t){return a(r)&&a(t)&&Number(r)<=Number(t)}function O(r,t){return t instanceof RegExp?t.test(r):"string"==typeof t&&new RegExp(t).test(r)}function d(r,t){return a(r)&&a(t)&&Number(r)===Number(t)}function N(r,t){try{for(var e=arguments.length,n=Array(2<e?e-2:0),o=2;o<e;o++)n[o-2]=arguments[o];return!0===r.apply(void 0,[t].concat(n))}catch(r){return!1}}function j(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=o(o({},A),r);if("function"==typeof w.Proxy)return function(){var r=[],t=new Proxy(n,{get:function(e,n){return"test"===n?F(r):E(e,n)?function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return r.push({name:n,args:o}),t}:void 0}});return t};var i=Object.keys(n);return function(){var r=[];return i.reduce((function(i,u){return e(i,o({},E(n,u)&&t({},u,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.push({name:u,args:e}),i}))))}),{test:F(r)})}}var E=function(r,t){return(r=Object.prototype.hasOwnProperty.call(r,t)&&"function"==typeof r[t])||function(r){setTimeout((function(){throw Error("[".concat("ensure","]: ",r))}))}('Rule "'.concat(t,'" was not found in rules object. Make sure you typed it correctly.')),r},w=Function("return this")();u.negativeForm="notEquals",a.negativeForm="isNotNumeric",c.alias="gt",f.alias="gte",s.negativeForm="notInside",l.negativeForm="isNotArray",y.negativeForm="isNotEmpty",p.negativeForm="isNotNumber",b.negativeForm="isNotString",m.negativeForm="isFalsy",g.negativeForm="lengthNotEquals",h.alias="lt",v.alias="lte",O.negativeForm="notMatches",d.negativeForm="numberNotEquals";var A=function(r){var t,e=function(t){var e=r[t].negativeForm,n=r[t].alias;e&&(r[e]=function(){return!r[t].apply(r,arguments)}),n&&(r[n]=r[t])};for(t in r)e(t);return r}({equals:u,greaterThan:c,greaterThanOrEquals:f,inside:s,isArray:l,isEmpty:y,isEven:function(r){return!!a(r)&&0==r%2},isNumber:p,isNumeric:a,isOdd:function(r){return!!a(r)&&0!=r%2},isString:b,isTruthy:m,lengthEquals:g,lessThan:h,lessThanOrEquals:v,longerThan:function(r,t){return r.length>t},longerThanOrEquals:function(r,t){return r.length>=t},matches:O,numberEquals:d,shorterThan:function(r,t){return r.length<t},shorterThanOrEquals:function(r,t){return r.length<=t}}),F=function(r){return function(t){return r.every((function(r){return N.apply(void 0,[A[r.name],t].concat(function(r){var t=Array.isArray(r)?i(r):void 0;if(t||(t="undefined"!=typeof Symbol&&Symbol.iterator in Object(r)?Array.from(r):void 0),!t)r:{if(r){if("string"==typeof r){t=i(r,void 0);break r}if("Object"===(t=Object.prototype.toString.call(r).slice(8,-1))&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t){t=Array.from(r);break r}if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)){t=i(r,void 0);break r}}t=void 0}if(!(r=t))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return r}(r.args)))}))}},P=new j;return P.Ensure=j,P}));
